(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{29:function(t,e,n){},3:function(t,e,n){t.exports={contactBtn:"ContactForm_contactBtn__2rznv",contactform:"ContactForm_contactform__2IqKp",contactLabel:"ContactForm_contactLabel__1m_x4",contactInput1:"ContactForm_contactInput1__3JZhW",contactInput:"ContactForm_contactInput__3AGeb"}},31:function(t,e,n){"use strict";n.r(e);var a={};n.r(a),n.d(a,"getContacts",(function(){return x})),n.d(a,"addContact",(function(){return C})),n.d(a,"deleteContact",(function(){return _}));var c=n(0),r=n.n(c),o=n(7),s=n.n(o),i=n(4),u=n(2),l=n(14),d=n.n(l),b=n(5),m=n(11),f=n.n(m),j=n(15),h="https://61bb5963e943920017784e35.mockapi.io",p=function(){var t=Object(j.a)(f.a.mark((function t(e){var n,a,c=arguments;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:{},t.next=3,fetch("".concat(h,"/").concat(e),n);case 3:return a=t.sent,t.abrupt("return",a.ok?a.json():Promise.reject(new Error(a.statusText)));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),O="contacts",x=Object(u.b)("contacts/getContactsStatus",(function(){return p(O,t);var t})),C=Object(u.b)("contacts/addContactStatus",(function(t){return function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=Object(b.a)({method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json; charset=UTF-8"}},n);return p(t,a)}(O,t)})),_=Object(u.b)("contacts/deleteContactStatus",(function(t){return function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return p("".concat(t,"/").concat(e),Object(b.a)({method:"DELETE"},n))}(O,t)})),v=Object(u.c)({name:"contacts",initialState:{items:[],filter:""},reducers:{updateFilter:function(t,e){var n=e.payload;return Object(b.a)(Object(b.a)({},t),{},{filter:n})}},extraReducers:function(t){t.addCase(x.fulfilled,(function(t,e){var n=e.payload;t.items=n})).addCase(C.fulfilled,(function(t,e){var n=e.payload;t.items.push(n)})).addCase(_.fulfilled,(function(t,e){var n=e.payload,a=t.items.findIndex((function(t){return t.id===n.id}));t.items.splice(a,1)}))}}),g=v.actions.updateFilter,y=v.reducer,N=Object(u.a)({reducer:{contacts:y},middleware:function(t){return t().concat(d.a)},devTools:!1}),S=(n(29),n(16)),F=n(12),w=n(3),k=n.n(w),L=n(1),I=function(t){var e=t.onSubmit,n=Object(c.useState)(""),a=Object(F.a)(n,2),r=a[0],o=a[1],s=Object(c.useState)(""),i=Object(F.a)(s,2),u=i[0],l=i[1],d=function(t){var e=t.target,n=e.name,a=e.value;switch(n){case"name":o(a);break;case"number":l(a);break;default:return}};return Object(L.jsx)("div",{className:k.a.contactform,children:Object(L.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e(r,u),o(""),l("")},children:[Object(L.jsxs)("label",{className:k.a.contactLabel,children:["Name :",Object(L.jsx)("input",{type:"text",name:"name",value:r,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,onChange:d,className:k.a.contactInput1})]}),Object(L.jsxs)("label",{htmlFor:"",className:k.a.contactLabel,children:["Number :",Object(L.jsx)("input",{type:"tel",name:"number",value:u,pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,onChange:d,className:k.a.contactInput})]}),Object(L.jsx)("button",{type:"submit",className:k.a.contactBtn,children:"Add contact"})]})})},A=n(8),J=n.n(A),T=function(t){var e=t.filter,n=t.onChange;return Object(L.jsx)("div",{className:J.a.filterSearch,children:Object(L.jsxs)("label",{className:J.a.filter,children:["Find contacts by name:",Object(L.jsx)("input",{type:"text",name:"filter",value:e,onChange:n,className:J.a.input})]})})},z=n(6),B=n.n(z),E=function(t){var e=t.contacts,n=t.onClick,a=function(t){var e=t.target.name;n(e)};return Object(L.jsx)("ul",{className:B.a.list,children:e.map((function(t){var e=t.id,n=t.name,c=t.number;return Object(L.jsxs)("li",{className:B.a.item,children:[Object(L.jsxs)("p",{className:B.a.text,children:[n," :"]}),Object(L.jsxs)("p",{className:B.a.text,children:[c," "]}),Object(L.jsx)("button",{type:"button",name:e,onClick:a,className:B.a.btn,children:"Delete"})]},e)}))})},P=a.getContacts,Z=a.addContact,q=a.deleteContact,D=function(){var t=Object(i.c)((function(t){return t.contacts.items})),e=Object(i.c)((function(t){return t.contacts.filter})),n=Object(i.b)();Object(c.useEffect)((function(){n(P())}),[n]);return Object(L.jsx)(L.Fragment,{children:Object(L.jsxs)("div",{children:[Object(L.jsx)("h1",{children:"Phonebook"}),Object(L.jsx)(I,{onSubmit:function(e,a){var c={name:e,number:a,id:Object(S.a)()},r=e.toLowerCase();t.find((function(t){return t.name.toLowerCase()===r}))?alert("".concat(e," is already in contacts.")):""===e?alert("Please type your info in the field. It is empty."):n(Z(c))}}),Object(L.jsx)("h2",{children:"Contacts"}),Object(L.jsx)(T,{filter:e,onChange:function(t){n(g(t.currentTarget.value))}}),Object(L.jsx)(E,{contacts:t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())})),onClick:function(t){n(q(t))}})]})})};s.a.render(Object(L.jsx)(r.a.StrictMode,{children:Object(L.jsx)(i.a,{store:N,children:Object(L.jsx)(D,{})})}),document.getElementById("root"))},6:function(t,e,n){t.exports={list:"ContactList_list__3CReJ",item:"ContactList_item__2bJzt",text:"ContactList_text__1lJx9",btn:"ContactList_btn__1bn2U"}},8:function(t,e,n){t.exports={filter:"SearchFilter_filter__14Bt5",input:"SearchFilter_input__3HAtd",filterSearch:"SearchFilter_filterSearch__2-Ks6"}}},[[31,1,2]]]);
//# sourceMappingURL=main.dc424876.chunk.js.map